{
  "took" : 1,
  "timed_out" : false,
  "_shards" : {
    "total" : 1,
    "successful" : 1,
    "skipped" : 0,
    "failed" : 0
  },
  "hits" : {
    "total" : {
      "value" : 14,
      "relation" : "eq"
    },
    "max_score" : 1.6825602,
    "hits" : [
      {
        "_index" : "cqrs-logstash-index",
        "_type" : "_doc",
        "_id" : "4d8HFogBSxh84zY13OQ7",
        "_score" : 1.6825602,
        "_source" : {
          "message" : "(HTTP) method: POST, path: /api/v1/bank/deposit/dabc3207-0413-402c-9b0d-1b343cfed8cf, status: 204",
          "sampled" : "true",
          "spanId" : "3c7d0d894248700b",
          "LoggerName" : "com.example.util.LoggingFilter",
          "SourceMethodName" : "filter",
          "@timestamp" : "2023-05-13T16:53:13.659Z",
          "Thread" : "vert.x-eventloop-thread-0",
          "Time" : "2023-05-13 17:53:13,659",
          "SourceClassName" : "com.example.util.LoggingFilter",
          "level" : 6,
          "host" : "xps",
          "MessageParam2" : 204,
          "version" : "1.1",
          "Severity" : "INFO",
          "SourceSimpleClassName" : "LoggingFilter",
          "@version" : "1",
          "traceId" : "6a3a514cf139c5ae1d166a235fb3d46f",
          "MessageParam1" : "/api/v1/bank/deposit/dabc3207-0413-402c-9b0d-1b343cfed8cf",
          "source_host" : "172.22.0.1",
          "facility" : "jboss-logmanager",
          "MessageParam0" : "POST"
        }
      },
      {
        "_index" : "cqrs-logstash-index",
        "_type" : "_doc",
        "_id" : "5t8HFogBSxh84zY13ORK",
        "_score" : 1.6825602,
        "_source" : {
          "message" : "(raiseAggregateEvent) event version: 1",
          "spanId" : "3c7d0d894248700b",
          "sampled" : "true",
          "Time" : "2023-05-13 17:53:13,641",
          "version" : "1.1",
          "LoggerName" : "com.example.store.EventStoreDB",
          "SourceMethodName" : "lambda$raiseAggregateEvents$23",
          "SourceSimpleClassName" : "EventStoreDB",
          "Severity" : "INFO",
          "@timestamp" : "2023-05-13T16:53:13.641Z",
          "@version" : "1",
          "Thread" : "vert.x-eventloop-thread-0",
          "traceId" : "6a3a514cf139c5ae1d166a235fb3d46f",
          "MessageParam0" : 1,
          "source_host" : "172.22.0.1",
          "facility" : "jboss-logmanager",
          "level" : 6,
          "SourceClassName" : "com.example.store.EventStoreDB",
          "host" : "xps"
        }
      },
      {
        "_index" : "cqrs-logstash-index",
        "_type" : "_doc",
        "_id" : "498HFogBSxh84zY13OQ7",
        "_score" : 1.6825602,
        "_ignored" : [
          "message.keyword",
          "MessageParam0.keyword"
        ],
        "_source" : {
          "message" : "(consumer) process events: >>>>> [{\"id\":\"92f5eafe-2c75-47f0-8f2c-7f93852c78c9\",\"aggregateType\":\"BankAccountAggregate\",\"aggregateId\":\"dabc3207-0413-402c-9b0d-1b343cfed8cf\",\"eventType\":\"BALANCE_DEPOSIT_V1\",\"version\":4,\"data\":\"eyJhZ2dyZWdhdGVJZCI6ImRhYmMzMjA3LTA0MTMtNDAyYy05YjBkLTFiMzQzY2ZlZDhjZiIsImFtb3VudCI6NTAwLjAwfQ==\",\"metaData\":\"\",\"timeStamp\":1683996793.646665756}]",
          "sampled" : "true",
          "spanId" : "1507cc98b2cf4e43",
          "LoggerName" : "com.example.listener.BankAccountMongoProjection",
          "SourceMethodName" : "process",
          "@timestamp" : "2023-05-13T16:53:13.797Z",
          "parentId" : "6d9619138a7a9a58",
          "Thread" : "vert.x-eventloop-thread-3",
          "Time" : "2023-05-13 17:53:13,797",
          "SourceClassName" : "com.example.listener.BankAccountMongoProjection",
          "level" : 6,
          "host" : "xps",
          "version" : "1.1",
          "Severity" : "INFO",
          "SourceSimpleClassName" : "BankAccountMongoProjection",
          "@version" : "1",
          "traceId" : "6a3a514cf139c5ae1d166a235fb3d46f",
          "short_message" : "(consumer) process events: >>>>> [{\"id\":\"92f5eafe-2c75-47f0-8f2c-7f93852c78c9\",\"aggregateType\":\"BankAccountAggregate\",\"aggregateId\":\"dabc3207-0413-402c-9b0d-1b343cfed8cf\",\"eventType\":\"BALANCE_DEPOSIT_V1\",\"version\":4,\"data\":\"eyJhZ2dyZWdhdGVJZCI6ImRhY",
          "MessageParam0" : "[{\"id\":\"92f5eafe-2c75-47f0-8f2c-7f93852c78c9\",\"aggregateType\":\"BankAccountAggregate\",\"aggregateId\":\"dabc3207-0413-402c-9b0d-1b343cfed8cf\",\"eventType\":\"BALANCE_DEPOSIT_V1\",\"version\":4,\"data\":\"eyJhZ2dyZWdhdGVJZCI6ImRhYmMzMjA3LTA0MTMtNDAyYy05YjBkLTFiMzQzY2ZlZDhjZiIsImFtb3VudCI6NTAwLjAwfQ==\",\"metaData\":\"\",\"timeStamp\":1683996793.646665756}]",
          "source_host" : "172.22.0.1",
          "facility" : "jboss-logmanager"
        }
      },
      {
        "_index" : "cqrs-logstash-index",
        "_type" : "_doc",
        "_id" : "6t8HFogBSxh84zY13ORY",
        "_score" : 1.6825602,
        "_source" : {
          "message" : "(getSnapshot) snapshot version: Optional.empty",
          "spanId" : "3c7d0d894248700b",
          "sampled" : "true",
          "Time" : "2023-05-13 17:53:13,638",
          "version" : "1.1",
          "LoggerName" : "com.example.store.EventStoreDB",
          "SourceMethodName" : "lambda$getSnapshot$20",
          "SourceSimpleClassName" : "EventStoreDB",
          "Severity" : "INFO",
          "@timestamp" : "2023-05-13T16:53:13.638Z",
          "@version" : "1",
          "Thread" : "vert.x-eventloop-thread-0",
          "traceId" : "6a3a514cf139c5ae1d166a235fb3d46f",
          "MessageParam0" : "Optional.empty",
          "source_host" : "172.22.0.1",
          "facility" : "jboss-logmanager",
          "level" : 6,
          "SourceClassName" : "com.example.store.EventStoreDB",
          "host" : "xps"
        }
      },
      {
        "_index" : "cqrs-logstash-index",
        "_type" : "_doc",
        "_id" : "8N8HFogBSxh84zY13ORn",
        "_score" : 1.6825602,
        "_source" : {
          "message" : "DepositAmountCommand: DepositAmountCommand[aggregateId=dabc3207-0413-402c-9b0d-1b343cfed8cf, amount=500.00]",
          "spanId" : "3c7d0d894248700b",
          "sampled" : "true",
          "Time" : "2023-05-13 17:53:13,635",
          "version" : "1.1",
          "LoggerName" : "com.example.BankAccountResource",
          "SourceMethodName" : "depositAmount",
          "SourceSimpleClassName" : "BankAccountResource",
          "Severity" : "INFO",
          "@timestamp" : "2023-05-13T16:53:13.635Z",
          "@version" : "1",
          "Thread" : "vert.x-eventloop-thread-0",
          "traceId" : "6a3a514cf139c5ae1d166a235fb3d46f",
          "MessageParam0" : "DepositAmountCommand[aggregateId=dabc3207-0413-402c-9b0d-1b343cfed8cf, amount=500.00]",
          "source_host" : "172.22.0.1",
          "facility" : "jboss-logmanager",
          "level" : 6,
          "SourceClassName" : "com.example.BankAccountResource",
          "host" : "xps"
        }
      },
      {
        "_index" : "cqrs-logstash-index",
        "_type" : "_doc",
        "_id" : "9N8HFogBSxh84zY13ORn",
        "_score" : 1.6825602,
        "_source" : {
          "message" : "(BalanceDepositEvent) updatedDocument: BankAccountDocument(objectId=645fc079299c752ea37baa7d, aggregateId=dabc3207-0413-402c-9b0d-1b343cfed8cf, email=test123@test.com, userName=testuser12345, address=64 Test Ave, Testington, 1TT TT1, balance=500.00)",
          "sampled" : "true",
          "spanId" : "1507cc98b2cf4e43",
          "LoggerName" : "com.example.listener.BankAccountMongoProjection",
          "SourceMethodName" : "lambda$handle$17",
          "@timestamp" : "2023-05-13T16:53:13.807Z",
          "parentId" : "6d9619138a7a9a58",
          "Thread" : "vert.x-eventloop-thread-3",
          "Time" : "2023-05-13 17:53:13,807",
          "SourceClassName" : "com.example.listener.BankAccountMongoProjection",
          "level" : 6,
          "host" : "xps",
          "version" : "1.1",
          "Severity" : "INFO",
          "SourceSimpleClassName" : "BankAccountMongoProjection",
          "@version" : "1",
          "traceId" : "6a3a514cf139c5ae1d166a235fb3d46f",
          "MessageParam0" : "BankAccountDocument(objectId=645fc079299c752ea37baa7d, aggregateId=dabc3207-0413-402c-9b0d-1b343cfed8cf, email=test123@test.com, userName=testuser12345, address=64 Test Ave, Testington, 1TT TT1, balance=500.00)",
          "source_host" : "172.22.0.1",
          "facility" : "jboss-logmanager"
        }
      },
      {
        "_index" : "cqrs-logstash-index",
        "_type" : "_doc",
        "_id" : "-t8HFogBSxh84zY13OR7",
        "_score" : 1.6825602,
        "_source" : {
          "message" : "(when) BalanceDepositEvent: BalanceDepositEvent(amount=500.00), aggregateID: dabc3207-0413-402c-9b0d-1b343cfed8cf",
          "sampled" : "true",
          "spanId" : "1507cc98b2cf4e43",
          "LoggerName" : "com.example.listener.BankAccountMongoProjection",
          "SourceMethodName" : "handle",
          "@timestamp" : "2023-05-13T16:53:13.801Z",
          "parentId" : "6d9619138a7a9a58",
          "Thread" : "vert.x-eventloop-thread-3",
          "Time" : "2023-05-13 17:53:13,801",
          "SourceClassName" : "com.example.listener.BankAccountMongoProjection",
          "level" : 6,
          "host" : "xps",
          "version" : "1.1",
          "Severity" : "INFO",
          "SourceSimpleClassName" : "BankAccountMongoProjection",
          "@version" : "1",
          "traceId" : "6a3a514cf139c5ae1d166a235fb3d46f",
          "MessageParam1" : "dabc3207-0413-402c-9b0d-1b343cfed8cf",
          "source_host" : "172.22.0.1",
          "facility" : "jboss-logmanager",
          "MessageParam0" : "BalanceDepositEvent(amount=500.00)"
        }
      },
      {
        "_index" : "cqrs-logstash-index",
        "_type" : "_doc",
        "_id" : "_98HFogBSxh84zY13OSJ",
        "_score" : 1.6825602,
        "_source" : {
          "message" : "(when) event aggregateId: >>>>> dabc3207-0413-402c-9b0d-1b343cfed8cf",
          "sampled" : "true",
          "spanId" : "1507cc98b2cf4e43",
          "LoggerName" : "com.example.listener.BankAccountMongoProjection",
          "SourceMethodName" : "when",
          "@timestamp" : "2023-05-13T16:53:13.798Z",
          "parentId" : "6d9619138a7a9a58",
          "Thread" : "vert.x-eventloop-thread-3",
          "Time" : "2023-05-13 17:53:13,798",
          "SourceClassName" : "com.example.listener.BankAccountMongoProjection",
          "level" : 6,
          "host" : "xps",
          "version" : "1.1",
          "Severity" : "INFO",
          "SourceSimpleClassName" : "BankAccountMongoProjection",
          "@version" : "1",
          "traceId" : "6a3a514cf139c5ae1d166a235fb3d46f",
          "MessageParam0" : "dabc3207-0413-402c-9b0d-1b343cfed8cf",
          "source_host" : "172.22.0.1",
          "facility" : "jboss-logmanager"
        }
      },
      {
        "_index" : "cqrs-logstash-index",
        "_type" : "_doc",
        "_id" : "At8HFogBSxh84zY13OWa",
        "_score" : 1.6825602,
        "_source" : {
          "message" : "deposited amount: 500.00, id: dabc3207-0413-402c-9b0d-1b343cfed8cf",
          "sampled" : "true",
          "spanId" : "3c7d0d894248700b",
          "LoggerName" : "com.example.commands.BankAccountCommandHandler",
          "SourceMethodName" : "lambda$handle$9",
          "@timestamp" : "2023-05-13T16:53:13.658Z",
          "Thread" : "vert.x-eventloop-thread-0",
          "Time" : "2023-05-13 17:53:13,658",
          "SourceClassName" : "com.example.commands.BankAccountCommandHandler",
          "level" : 6,
          "host" : "xps",
          "version" : "1.1",
          "Severity" : "INFO",
          "SourceSimpleClassName" : "BankAccountCommandHandler",
          "@version" : "1",
          "traceId" : "6a3a514cf139c5ae1d166a235fb3d46f",
          "MessageParam1" : "dabc3207-0413-402c-9b0d-1b343cfed8cf",
          "source_host" : "172.22.0.1",
          "facility" : "jboss-logmanager",
          "MessageParam0" : 500.0
        }
      },
      {
        "_index" : "cqrs-logstash-index",
        "_type" : "_doc",
        "_id" : "CN8HFogBSxh84zY13OWs",
        "_score" : 1.6825602,
        "_source" : {
          "message" : "save success",
          "spanId" : "3c7d0d894248700b",
          "sampled" : "true",
          "version" : "1.1",
          "LoggerName" : "com.example.store.EventStoreDB",
          "SourceMethodName" : "lambda$save$4",
          "SourceSimpleClassName" : "EventStoreDB",
          "Severity" : "INFO",
          "@timestamp" : "2023-05-13T16:53:13.656Z",
          "@version" : "1",
          "Thread" : "vert.x-eventloop-thread-0",
          "traceId" : "6a3a514cf139c5ae1d166a235fb3d46f",
          "Time" : "2023-05-13 17:53:13,656",
          "source_host" : "172.22.0.1",
          "facility" : "jboss-logmanager",
          "level" : 6,
          "SourceClassName" : "com.example.store.EventStoreDB",
          "host" : "xps"
        }
      }
    ]
  }
}
